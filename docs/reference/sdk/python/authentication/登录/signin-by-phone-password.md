# Login with phone number + password

<!--
Warning⚠️:
Do not modify this document directly,
https://github.com/Authing/authing-docs-factory
Use this project to generate
-->

<LastUpdated />

Login with phone number + password.

## Request parameters

| Name     | Type                                             | <div style="width:80px">Is it required</div> | Default value | <div style="width:300px">Description</div>                                                                                                                                                                                                                                                                                                                        | <div style="width:200px"></div>Sample value</div> |
| -------- | ------------------------------------------------ | -------------------------------------------- | ------------- | ----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | ------------------------------------------------- |
| phone    | str                                              | Yes                                          | -             | User name                                                                                                                                                                                                                                                                                                                                                         | `188xxxx8888`                                     |
| password | str                                              | Yes                                          | -             | User password, not encrypted by default. All GenAuth APIs use the HTTPS protocol to securely transmit passwords, which can ensure security to a certain extent. If you need a higher level of security, we also support `RSA256` and the national secret `SM2` password encryption method. For details, see the optional parameter `options.passwordEncryptType`. | `passw0rd`                                        |
| options  | <a href="#SignInOptionsDto">SignInOptionsDto</a> | No                                           | -             | Optional parameters                                                                                                                                                                                                                                                                                                                                               | `{"passwordEncryptType":"none"}`                  |

## Sample code

```python
from authing import AuthenticationClient

# Initialize AuthenticationClient
authentication_client = AuthenticationClient(
    # GenAuth application ID
    app_id='GEN_AUTH_APP_ID',

    # GenAuth application secret
    app_secret='GEN_AUTH_APP_SECRET',

    # GenAuth application address, such as https://example.genauth.ai
    app_host='GEN_AUTH_APP_HOST',

    # GenAuth application login callback address, such as https://example.genauth.ai
    redirect_uri='GEN_AUTH_APP_REDIRECT_URI',
)

sign_in_resp = authentication_client.sign_in_by_phone_password(
    phone="188xxxx8888",
    password="passw0rd",
)
print(sign_in_resp)
```

## Request response

Type: `LoginTokenRespDto`

| Name       | Type                                                               | Description                                                                                                  |
| ---------- | ------------------------------------------------------------------ | ------------------------------------------------------------------------------------------------------------ |
| statusCode | number                                                             | Business status code, which can be used to determine whether the operation is successful. 200 means success. |
| message    | string                                                             | Description                                                                                                  |
| apiCode    | number                                                             | Segmented error code, which can be used to get the specific error type.                                      |
| requestId  | string                                                             | Request ID. Will be returned when the request fails.                                                         |
| data       | <a href="#LoginTokenResponseDataDto">LoginTokenResponseDataDto</a> | Response data                                                                                                |

Example result:

!!!include(reference/sdk/common/token_response_json.md)!!!

## Data structure

### <a id="SignInOptionsDto"></a> SignInOptionsDto

| Name                | Type    | <div style="width:80px">Is it required</div> | <div style="width:300px">Description</div>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            | <div style="width:200px">Sample value</div> |
| ------------------- | ------- | -------------------------------------------- | --------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | ------------------------------------------- |
| scope               | string  | no                                           | The permissions that need to be requested, must include openid. If you need to obtain the mobile phone number and email, you need to include phone email; if you need refresh_token, you need to include offline_access. Please separate multiple scopes with spaces. The decoded content of id_token will contain the user information related fields corresponding to these scopes. <br>- `openid`: Must be included. <br>- `profile`: Returns birthdate, family_name, gender, given_name, locale, middle_name, name, nickname, picture, preferred_username, profile, updated_at, website, zoneinfo fields. <br>- `username`: Returns username. <br>- `email`: Returns email, email_verified. <br>- `phone`: Returns phone_number, phone_number_verified. <br>- `offline_access`: If this parameter exists, the token interface will return the refresh_token field. <br>- `roles`: Returns the user's role list. <br>- `external_id`: User ID of the original system. <br>- `extended_fields`: Returns the extended field information of the user, the content is an object, the key is the extended field name, the value is the extended field value. <br>- `tenant_id`: Returns the tenant ID of the user. <br> | `openid profile`                            |
| clientIp            | string  | No                                           | The real IP address of the client. By default, GenAuth will identify the IP address of the request source as the IP address of the user's login. If you call this interface in the backend server, you need to set this IP to the user's real request IP.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             | `192.168.0.1`                               |
| context             | string  | No                                           | Additional request context, which will be passed to the `context` object of [Pipeline](https://docs.genauth.ai/guides/pipeline/) before and after authentication. Learn how to get additional context passed in to the `context` parameter of Pipeline.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               | ​​`{"source":"utm"}`                        |
| tenantId            | string  | No                                           | Tenant ID                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             | `625783d629f2bd1f5ddddd98c`                 |
| customData          | object  | No                                           | To set additional user custom data, you need to [configure custom data](https://docs.genauth.ai/guides/users/user-defined-field/) in the GenAuth console first.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       | `{"school":"pku","age":"20"}`               |
| autoRegister        | boolean | No                                           | Whether to enable automatic registration. If set to true, an account will be automatically created for the user if it does not exist.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 |                                             |
| captchaCode         | string  | No                                           | Captcha graphic verification code, case-insensitive. When the **security policy** is set to **verification code** and the **login failure limit** is triggered, the graphic verification code needs to be filled in the next login.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   | `a8nz`                                      |
| passwordEncryptType | string  | No                                           | Password encryption type, supports sm2 and rsa. It can be unencrypted by default. <br>- `none`: Do not encrypt the password and use plain text for transmission. <br>- `rsa`: Use the RSA256 algorithm to encrypt the password. You need to use the RSA public key of the GenAuth service for encryption. Please read the **Introduction** section to learn how to obtain the RSA256 public key of the GenAuth service. <br>- `sm2`: Use the [National Secret SM2 Algorithm](https://baike.baidu.com/item/SM2/15081831) to encrypt the password. You need to use the SM2 public key of the GenAuth service for encryption. Please read the **Introduction** section to learn how to obtain the SM2 public key of the GenAuth service. <br>                                                                                                                                                                                                                                                                                                                                                                                                                                                                            | sm2                                         |

### <a id="LoginTokenResponseDataDto"></a> LoginTokenResponseDataDto

!!!include(reference/sdk/common/token_response_table.md)!!!
